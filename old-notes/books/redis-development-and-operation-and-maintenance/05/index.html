<!doctype html><html itemscope itemtype=http://schema.org/WebPage lang=zh-CN><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1,maximum-scale=2"><meta name=robots content="noodp"><title>- 线偶的IT笔记</title><meta name=author content="线偶">
<meta name=author-link content><meta name=description content="1、RDB 1、触发机制手动触发，分别有 save 和 bgsave 两个命令。 save： 会阻塞当前 Redis 服务器，直到 RDB 过程完成为止，不建议使用。 bgsave： Redis 进程会 fork"><meta itemprop=name content="线偶的IT笔记"><meta itemprop=description content="1、RDB 1、触发机制手动触发，分别有 save 和 bgsave 两个命令。 save： 会阻塞当前 Redis 服务器，直到 RDB 过程完成为止，不建议使用。 bgsave： Redis 进程会 fork"><meta itemprop=dateModified content="2022-09-03T20:43:08+08:00"><meta itemprop=wordCount content="1878"><meta itemprop=image content="https://ooooo-youwillsee.github.io/logo.png"><meta property="og:url" content="https://ooooo-youwillsee.github.io/ooooo-notes/old-notes/books/redis-development-and-operation-and-maintenance/05/"><meta property="og:site_name" content="线偶的IT笔记"><meta property="og:title" content="线偶的IT笔记"><meta property="og:description" content="1、RDB 1、触发机制手动触发，分别有 save 和 bgsave 两个命令。 save： 会阻塞当前 Redis 服务器，直到 RDB 过程完成为止，不建议使用。 bgsave： Redis 进程会 fork"><meta property="og:locale" content="zh-CN"><meta property="og:type" content="article"><meta property="article:section" content="old-notes"><meta property="article:modified_time" content="2022-09-03T20:43:08+08:00"><meta property="og:image" content="https://ooooo-youwillsee.github.io/logo.png"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://ooooo-youwillsee.github.io/logo.png"><meta name=twitter:title content><meta name=twitter:description content="1、RDB 1、触发机制手动触发，分别有 save 和 bgsave 两个命令。 save： 会阻塞当前 Redis 服务器，直到 RDB 过程完成为止，不建议使用。 bgsave： Redis 进程会 fork"><meta name=application-name content="线偶的IT笔记"><meta name=apple-mobile-web-app-title content="线偶的IT笔记"><meta name=theme-color data-light=#f8f8f8 data-dark=#252627 content="#f8f8f8"><meta name=msapplication-TileColor content="#da532c"><link rel="shortcut icon" type=image/x-icon href=/favicon.ico><link rel=icon type=image/png sizes=32x32 href=/favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=/favicon-16x16.png><link rel=apple-touch-icon sizes=180x180 href=/apple-touch-icon.png><link rel=mask-icon href=/safari-pinned-tab.svg color=#5bbad5><link rel=canonical href=https://ooooo-youwillsee.github.io/ooooo-notes/old-notes/books/redis-development-and-operation-and-maintenance/05/><link rel=prev href=https://ooooo-youwillsee.github.io/ooooo-notes/old-notes/books/redis-development-and-operation-and-maintenance/06/><link rel=next href=https://ooooo-youwillsee.github.io/ooooo-notes/old-notes/books/redis-development-and-operation-and-maintenance/04/><link rel=stylesheet href=/ooooo-notes/css/style.min.css><link rel=preload href=/ooooo-notes/lib/fontawesome-free/all.min.css as=style onload='this.removeAttribute("onload"),this.rel="stylesheet"'><noscript><link rel=stylesheet href=/ooooo-notes/lib/fontawesome-free/all.min.css></noscript><link rel=preload href=/ooooo-notes/lib/animate/animate.min.css as=style onload='this.removeAttribute("onload"),this.rel="stylesheet"'><noscript><link rel=stylesheet href=/ooooo-notes/lib/animate/animate.min.css></noscript><script type=application/ld+json>{"@context":"http://schema.org","@type":"BlogPosting","headline":"","inLanguage":"zh-CN","mainEntityOfPage":{"@type":"WebPage","@id":"https:\/\/ooooo-youwillsee.github.io\/ooooo-notes\/old-notes\/books\/redis-development-and-operation-and-maintenance\/05\/"},"genre":"old-notes","wordcount":1878,"url":"https:\/\/ooooo-youwillsee.github.io\/ooooo-notes\/old-notes\/books\/redis-development-and-operation-and-maintenance\/05\/","dateModified":"2022-09-03T20:43:08+08:00","publisher":{"@type":"Organization","name":""},"author":{"@type":"Person","name":"线偶"},"description":""}</script></head><body data-header-desktop=sticky data-header-mobile=auto><script>(window.localStorage?.getItem("theme")?localStorage.getItem("theme")==="dark":"auto"==="auto"?window.matchMedia("(prefers-color-scheme: dark)").matches:"auto"==="dark")&&document.body.setAttribute("data-theme","dark")</script><div class=wrapper data-page-style=normal><header class="desktop animate__faster" id=header-desktop><div class=header-wrapper><div class=header-title><a href=/ooooo-notes/ title=线偶的IT笔记><span class=header-title-pre><i class='far fa-kiss-wink-heart fa-fw' aria-hidden=true></i></span><span class=header-title-text>线偶</span></a><span id=typeit-header-subtitle-desktop class="typeit header-subtitle"></span></div><nav><ul class=menu><li class=menu-item><a class=menu-link href=/ooooo-notes/posts/><i class='fa fa-list' aria-hidden=true></i> 文章</a></li><li class=menu-item><a class=menu-link href=/ooooo-notes/tags/><i class='fa fa-tags' aria-hidden=true></i> 标签</a></li><li class=menu-item><a class=menu-link href=/ooooo-notes/collections/><i class='fa fa-archive' aria-hidden=true></i> 合集</a></li><li class=menu-item><a class=menu-link href=https://github.com/ooooo-youwillsee title=GitHub rel="noopener noreferrer" target=_blank><i class='fab fa-github fa-fw' aria-hidden=true></i></a></li><li class="menu-item delimiter"></li><li class="menu-item search" id=search-desktop><input type=text placeholder=搜索文章标题或内容…… id=search-input-desktop>
<a href=javascript:void(0); class="search-button search-toggle" id=search-toggle-desktop title=搜索><i class="fa-solid fa-search fa-fw" aria-hidden=true></i>
</a><a href=javascript:void(0); class="search-button search-clear" id=search-clear-desktop title=清空><i class="fa-solid fa-times-circle fa-fw" aria-hidden=true></i>
</a><span class="search-button search-loading" id=search-loading-desktop><i class="fa-solid fa-spinner fa-fw fa-spin" aria-hidden=true></i></span></li><li class="menu-item theme-switch" title=切换主题><i class="fa-solid fa-adjust fa-fw" aria-hidden=true></i></li></ul></nav></div></header><header class="mobile animate__faster" id=header-mobile><div class=header-container><div class=header-wrapper><div class=header-title><a href=/ooooo-notes/ title=线偶的IT笔记><span class=header-title-pre><i class='far fa-kiss-wink-heart fa-fw' aria-hidden=true></i></span><span class=header-title-text>线偶</span></a><span id=typeit-header-subtitle-mobile class="typeit header-subtitle"></span></div><div class=menu-toggle id=menu-toggle-mobile><span></span><span></span><span></span></div></div><nav><ul class=menu id=menu-mobile><li class=search-wrapper><div class="search mobile" id=search-mobile><input type=text placeholder=搜索文章标题或内容…… id=search-input-mobile>
<a href=javascript:void(0); class="search-button search-toggle" id=search-toggle-mobile title=搜索><i class="fa-solid fa-search fa-fw" aria-hidden=true></i>
</a><a href=javascript:void(0); class="search-button search-clear" id=search-clear-mobile title=清空><i class="fa-solid fa-times-circle fa-fw" aria-hidden=true></i>
</a><span class="search-button search-loading" id=search-loading-mobile><i class="fa-solid fa-spinner fa-fw fa-spin" aria-hidden=true></i></span></div><a href=javascript:void(0); class=search-cancel id=search-cancel-mobile>取消</a></li><li class=menu-item><a class=menu-link href=/ooooo-notes/posts/><i class='fa fa-list' aria-hidden=true></i> 文章</a></li><li class=menu-item><a class=menu-link href=/ooooo-notes/tags/><i class='fa fa-tags' aria-hidden=true></i> 标签</a></li><li class=menu-item><a class=menu-link href=/ooooo-notes/collections/><i class='fa fa-archive' aria-hidden=true></i> 合集</a></li><li class=menu-item><a class=menu-link href=https://github.com/ooooo-youwillsee title=GitHub rel="noopener noreferrer" target=_blank><i class='fab fa-github fa-fw' aria-hidden=true></i></a></li><li class="menu-item menu-system"><span class="menu-system-item theme-switch" title=切换主题><i class="fa-solid fa-adjust fa-fw" aria-hidden=true></i></span></li></ul></nav></div></header><div class="search-dropdown desktop"><div id=search-dropdown-desktop></div></div><div class="search-dropdown mobile"><div id=search-dropdown-mobile></div></div><nav aria-label=breadcrumb class="breadcrumb-container sticky"><ol class=breadcrumb><li class=breadcrumb-item><a href=/ooooo-notes/old-notes/ title=Old-Notes>Old-Notes</a></li><li class="breadcrumb-item active" aria-current=page></li></ol></nav><main class=container><article class="page single special"><div class=header><h1 class="single-title animate__animated animate__pulse animate__faster"></h1></div><div class=content id=content><h2 id=1rdb class=heading-element><a href=#1rdb class=heading-mark></a>1、RDB</h2><h3 id=1触发机制 class=heading-element><a href=#1%e8%a7%a6%e5%8f%91%e6%9c%ba%e5%88%b6 class=heading-mark></a>1、触发机制</h3><p>手动触发，分别有 <code>save</code> 和 <code>bgsave</code> 两个命令。</p><ul><li><code>save</code>： 会阻塞当前 Redis 服务器，直到 RDB 过程完成为止，不建议使用。</li><li><code>bgsave</code>： Redis 进程会 <strong>fork</strong> 出子进程，子进程进行 RDB 持久化，阻塞只会发生在 <strong>fork</strong> 阶段。</li></ul><p>自动触发的场景：</p><ul><li><code>save m n</code> 配置，表示在 m 秒中存在 n 次数据改变，才会触发 <code>bgsave</code>。</li><li>从节点全量复制过程中，主节点会执行 <code>bgsave</code> 生成 RDB 文件，发送子节点。</li><li>默认关闭情况下，如果没有开启 AOF，也会执行 <code>bgsave</code>。</li></ul><h3 id=2触发流程 class=heading-element><a href=#2%e8%a7%a6%e5%8f%91%e6%b5%81%e7%a8%8b class=heading-mark></a>2、触发流程</h3><p><code>bgsave</code> 命令的运行流程如下图：
<img loading=lazy src=./imgs/05_01.png alt="bgsave 执行流程" srcset="./imgs/05_01.png?size=small, ./imgs/05_01.png?size=medium 1.5x, ./imgs/05_01.png?size=large 2x" data-title="bgsave 执行流程" style="background:url(/ooooo-notes/images/loading.min.svg)no-repeat 50%" onload='this.title=this.dataset.title;for(const e of["style","data-title","onerror","onload"])this.removeAttribute(e);this.dataset.lazyloaded=""' onerror='this.title=this.dataset.title;for(const e of["style","data-title","onerror","onload"])this.removeAttribute(e)'></p><p>说明；</p><ol><li>执行 <code>bgsave</code> 命令， 判断是否有 AOF/RDB 进程。</li><li>执行 <code>info stats</code> 命令，选项 <code>latest_fork_usec</code> 表示最后一次 fork 使用的秒数。</li><li><code>bgsave</code> 命令执行完成后，会出现 <strong>Background saving started</strong> 提示。</li><li>子进程创建 RDB 文件成功后，对原有的文件进行原子替换, 执行 <code>lastsave</code> 命令获取最后一次生成 RDB 文件的时间，对应 <code>info Persistence</code> 命令中的选项 <code>rdb_last_save_time</code>。</li></ol><h3 id=3rdb-文件的处理 class=heading-element><a href=#3rdb-%e6%96%87%e4%bb%b6%e7%9a%84%e5%a4%84%e7%90%86 class=heading-mark></a>3、RDB 文件的处理</h3><p><img loading=lazy src=./imgs/05_02.png alt="RDB 配置" srcset="./imgs/05_02.png?size=small, ./imgs/05_02.png?size=medium 1.5x, ./imgs/05_02.png?size=large 2x" data-title="RDB 配置" style="background:url(/ooooo-notes/images/loading.min.svg)no-repeat 50%" onload='this.title=this.dataset.title;for(const e of["style","data-title","onerror","onload"])this.removeAttribute(e);this.dataset.lazyloaded=""' onerror='this.title=this.dataset.title;for(const e of["style","data-title","onerror","onload"])this.removeAttribute(e)'></p><ul><li>RDB 文件通过配置文件参数 <code>dbfilename</code> 和 <code>dir</code>来配置，也可以通过命令 <code>config set dir {dir}</code> 和 <code>config set dbfilename {dbfilename}</code> 来动态配置。</li><li>RDB 文件默认采用 <strong>LZF</strong> 压缩，通常建议开启，因为主从复制时，需要发送 RDB 文件到从节点，这样可以节省带宽。</li><li>RDB 默认也开启校验，可以通过脚本 <code>redis-check-rdb</code> 来校验生成相应的错误报告。</li></ul><h3 id=4rdb-的优缺点 class=heading-element><a href=#4rdb-%e7%9a%84%e4%bc%98%e7%bc%ba%e7%82%b9 class=heading-mark></a>4、RDB 的优缺点</h3><p>优点：</p><ul><li>RDB 非常适合备份、全量复制等场景，比如每 6 小时定时执行 <code>bgsave</code>，可用于灾难恢复。</li><li>RDB 的恢复数据远远快于 AOF 方式。</li></ul><p>缺点：</p><ul><li>RDB 无法做到秒级持久化，fork 创建子进程也属于重量级操作。</li><li>RDB 用特定的二进制格式保存，可能有版本不兼容问题。</li></ul><h2 id=2aof class=heading-element><a href=#2aof class=heading-mark></a>2、AOF</h2><blockquote><p>以独立的日志记录每次写命令，重启时再重新执行 AOF 文件中的命令达到恢复数据的目的。
AOF 解决了数据持久化的实时性。</p></blockquote><h3 id=1aof-工作流程 class=heading-element><a href=#1aof-%e5%b7%a5%e4%bd%9c%e6%b5%81%e7%a8%8b class=heading-mark></a>1、AOF 工作流程</h3><ul><li>开启 AOF 需要设置参数 <code>appendonly yes</code>。</li><li>通过参数 <code>appendfilename</code> 来设置文件名。</li></ul><p><img loading=lazy src=./imgs/05_04.png alt="AOF 配置" srcset="./imgs/05_04.png?size=small, ./imgs/05_04.png?size=medium 1.5x, ./imgs/05_04.png?size=large 2x" data-title="AOF 配置" style="background:url(/ooooo-notes/images/loading.min.svg)no-repeat 50%" onload='this.title=this.dataset.title;for(const e of["style","data-title","onerror","onload"])this.removeAttribute(e);this.dataset.lazyloaded=""' onerror='this.title=this.dataset.title;for(const e of["style","data-title","onerror","onload"])this.removeAttribute(e)'></p><p>工作流程如下图：
<img loading=lazy src=./imgs/05_03.png alt="AOF 工作流程" srcset="./imgs/05_03.png?size=small, ./imgs/05_03.png?size=medium 1.5x, ./imgs/05_03.png?size=large 2x" data-title="AOF 工作流程" style="background:url(/ooooo-notes/images/loading.min.svg)no-repeat 50%" onload='this.title=this.dataset.title;for(const e of["style","data-title","onerror","onload"])this.removeAttribute(e);this.dataset.lazyloaded=""' onerror='this.title=this.dataset.title;for(const e of["style","data-title","onerror","onload"])this.removeAttribute(e)'></p><p>说明：</p><ol><li>所有的写入命令会追加到 aof_buf (缓冲区)中。</li><li>AOF 缓冲区会根据同步策略（参数默认设置 <code>appendfsync everysec</code>）来做同步操作。</li><li>会定期对 AOF 文件进行 <strong>rewrite</strong>，达到压缩的目的，因为可能有些 key 过期了。</li><li>机器重启时，如果开启了 AOF，则使用 AOF 加载数据。</li></ol><h3 id=2命令写入 class=heading-element><a href=#2%e5%91%bd%e4%bb%a4%e5%86%99%e5%85%a5 class=heading-mark></a>2、命令写入</h3><ul><li>AOF 采用文本协议格式，也就是说 AOF 文件中存储就是写入的命令，这样具有阅读性、便于修改。</li><li>AOF 把命令先写入 aof_buf 中，根据不同的同步策略可以在性能和安全上做出平衡，没有特殊要求，就设置为 <code>everysec</code>。</li></ul><blockquote><p>三种策略；</p><ol><li>no: don&rsquo;t fsync, just let the OS flush the data when it wants. Faster.</li><li>always: fsync after every write to the append only log. Slow, Safest.</li><li>everysec: fsync only one time every second. Compromise.</li></ol></blockquote><h3 id=3重写机制 class=heading-element><a href=#3%e9%87%8d%e5%86%99%e6%9c%ba%e5%88%b6 class=heading-mark></a>3、重写机制</h3><p>AOF 文件可以变小的原因：</p><ul><li>超时的数据，可以不用再写入文件中。</li><li>key 过期了，可能含有无效命令，如 <code>del key1</code>。</li><li>多个命令可以合并成一个，如 <code>lpush list a</code> 和 <code>lpush list b</code> 可以合并为 <code>lpush list a b</code>。</li></ul><p>触发 AOF 重写方式：</p><ul><li>手动执行命令 <code>bgrewriteaof</code></li><li>自动触发，根据配置参数 <code>auto-aof-rewrite-percentage 100</code> 和 <code>auto-aof-rewrite-min-size 64mb</code>。</li></ul><blockquote><p>参数说明：</p><ol><li>This is how it works: Redis remembers the size of the AOF file after the
latest rewrite (if no rewrite has happened since the restart, the size of
the AOF at startup is used).</li><li>This base size is compared to the current size. If the current size is
bigger than the specified percentage, the rewrite is triggered. Also
you need to specify a minimal size for the AOF file to be rewritten, this
is useful to avoid rewriting the AOF file even if the percentage increase
is reached but it is still pretty small</li></ol></blockquote><p><strong>自动触发时机: aof_current_size > auto-aof-rewrite-min-size && (aof_current_size - aof_base_size) / aof_base_size > auto-aof-rewrite-percentage</strong></p><p>AOF 重写流程图如下：
<img loading=lazy src=./imgs/05_05.png alt="AOF 重写流程" srcset="./imgs/05_05.png?size=small, ./imgs/05_05.png?size=medium 1.5x, ./imgs/05_05.png?size=large 2x" data-title="AOF 重写流程" style="background:url(/ooooo-notes/images/loading.min.svg)no-repeat 50%" onload='this.title=this.dataset.title;for(const e of["style","data-title","onerror","onload"])this.removeAttribute(e);this.dataset.lazyloaded=""' onerror='this.title=this.dataset.title;for(const e of["style","data-title","onerror","onload"])this.removeAttribute(e)'></p><p>说明：</p><ol><li>执行 AOF 重写请求，如果有子进程在执行 <code>bgsave</code> 则等待完成之后再操作。</li><li>fork 子进程进行重写，父进程接受请求，修改命令写入 aof_buf 中根据策略同步到磁盘。</li><li>fork 操作运用写时复制技术，所以子进程只能共享操作 fork 时的内存，这时父进程可能还在响应请求，所以把重写后的新命令放入 <code>aof_rewrite_buf</code> 缓冲区中。</li><li>把 <code>aof_rewrite_buf</code> 中数据写入新的 AOF 文件中，根据开启参数 <code>aof-rewrite-incremental-fsync yes</code>，每 32MB 同步到磁盘。</li></ol><h3 id=4重启加载 class=heading-element><a href=#4%e9%87%8d%e5%90%af%e5%8a%a0%e8%bd%bd class=heading-mark></a>4、重启加载</h3><p>重启加载图：
<img loading=lazy src=./imgs/05_06.png alt=重启加载图 srcset="./imgs/05_06.png?size=small, ./imgs/05_06.png?size=medium 1.5x, ./imgs/05_06.png?size=large 2x" data-title=重启加载图 style="background:url(/ooooo-notes/images/loading.min.svg)no-repeat 50%" onload='this.title=this.dataset.title;for(const e of["style","data-title","onerror","onload"])this.removeAttribute(e);this.dataset.lazyloaded=""' onerror='this.title=this.dataset.title;for(const e of["style","data-title","onerror","onload"])this.removeAttribute(e)'></p><h3 id=5文件校验 class=heading-element><a href=#5%e6%96%87%e4%bb%b6%e6%a0%a1%e9%aa%8c class=heading-mark></a>5、文件校验</h3><p>加载损坏的 AOF 文件会拒绝启动，可以先<strong>备份文件</strong>，然后再执行命令 <code>redis-check-aof [--fix] &lt;file.aof></code> 来进行修复。</p><h2 id=3问题定位与优化 class=heading-element><a href=#3%e9%97%ae%e9%a2%98%e5%ae%9a%e4%bd%8d%e4%b8%8e%e4%bc%98%e5%8c%96 class=heading-mark></a>3、问题定位与优化</h2><h3 id=1fork-操作 class=heading-element><a href=#1fork-%e6%93%8d%e4%bd%9c class=heading-mark></a>1、fork 操作</h3><p>Redis 做 RDB 或者 AOF 重写时，必不可少的操作就是 fork。fork 用的写时复制技术，会复制父进程的内存页表。</p><p>改善 fork操作的耗时：</p><ol><li>优先使用物理机或者高效支持 fork 操作的虚拟化技术。</li><li>fork 耗时和内存量成正比，单个 Redis 实例建议不超过 10G。</li><li>linux 内存分配策略，避免物理内存不足导致 fork 失败。</li><li>降低 fork 操作频率，比如避免不必要的全量复制，适当放宽 AOF 自动触发时机。</li></ol><h3 id=2子进程开销监控和优化 class=heading-element><a href=#2%e5%ad%90%e8%bf%9b%e7%a8%8b%e5%bc%80%e9%94%80%e7%9b%91%e6%8e%a7%e5%92%8c%e4%bc%98%e5%8c%96 class=heading-mark></a>2、子进程开销监控和优化</h3><ol><li>CPU，子进程负责把内存中的数据写入文件中，属于 IO 密集型操作，不要和其他 IO 密集型服务部署在一起。</li><li>内存，写时复制技术，避免在大量写入时做子进程重写操作，导致父进程维护大量页副本，造成内存消耗，可以关闭 <strong>THP</strong>。</li><li>磁盘，AOF 重写会消耗大量磁盘 IO，可以关闭，参数设置为 <code>no-appendfsync-on-rewrite yes</code>，默认是关闭的，但是开启后，可能丢失数据。</li></ol><h3 id=3aof-追加阻塞 class=heading-element><a href=#3aof-%e8%bf%bd%e5%8a%a0%e9%98%bb%e5%a1%9e class=heading-mark></a>3、AOF 追加阻塞</h3><p>AOF 持久化，常用的同步策略是 <code>everysec</code>，用于平衡性能和安全性，对于这种方式，Redis 使用另一个线程每秒执行 fsync 同步磁盘，当系统磁盘繁忙时，可能造成 Redis 主进程阻塞。</p><p><img loading=lazy src=./imgs/05_07.png alt="AOF 追加阻塞" srcset="./imgs/05_07.png?size=small, ./imgs/05_07.png?size=medium 1.5x, ./imgs/05_07.png?size=large 2x" data-title="AOF 追加阻塞" style="background:url(/ooooo-notes/images/loading.min.svg)no-repeat 50%" onload='this.title=this.dataset.title;for(const e of["style","data-title","onerror","onload"])this.removeAttribute(e);this.dataset.lazyloaded=""' onerror='this.title=this.dataset.title;for(const e of["style","data-title","onerror","onload"])this.removeAttribute(e)'></p><h2 id=4多实例部署 class=heading-element><a href=#4%e5%a4%9a%e5%ae%9e%e4%be%8b%e9%83%a8%e7%bd%b2 class=heading-mark></a>4、多实例部署</h2><p>略</p></div><div id=comments><div id=gitalk class=comment></div><noscript>Please enable JavaScript to view the comments powered by <a href=https://github.com/gitalk/gitalk rel="external nofollow noopener noreferrer">Gitalk</a>.</noscript></div></article></main><footer class=footer><div class=footer-container><div class="footer-line powered">由 <a href=https://gohugo.io/ target=_blank rel="external nofollow noopener noreferrer" title="Hugo 0.125.7"><img class=hugo-icon src=/ooooo-notes/images/hugo.min.svg alt="Hugo logo"> Hugo</a> 强力驱动 | 主题 - <a href=https://github.com/hugo-fixit/FixIt target=_blank rel=external title="FixIt v0.3.2"><img class=fixit-icon src=/ooooo-notes/images/fixit.min.svg alt="FixIt logo"> FixIt</a></div><div class="footer-line copyright" itemscope itemtype=http://schema.org/CreativeWork><i class="fa-regular fa-copyright fa-fw" aria-hidden=true></i>
<span itemprop=copyrightYear>2022 - 2024</span><span class=author itemprop=copyrightHolder>
<a href=/ooooo-notes/>线偶</a></span><span class="license footer-divider"><a rel="license external nofollow noopener noreffer" href=https://creativecommons.org/licenses/by-nc/4.0/ target=_blank>CC BY-NC 4.0</a></span></div><div class="footer-line visitor"><span id=busuanzi_container_site_uv title=总访客数><i class="fa-regular fa-user fa-fw" aria-hidden=true></i>&nbsp;<span id=busuanzi_value_site_uv><i class="fa-solid fa-spinner fa-spin fa-fw" aria-hidden=true></i></span></span><span id=busuanzi_container_site_pv class=footer-divider title=总访问量><i class="fa-regular fa-eye fa-fw" aria-hidden=true></i>&nbsp;<span id=busuanzi_value_site_pv><i class="fa-solid fa-spinner fa-spin fa-fw" aria-hidden=true></i></span></span></div></div></footer></div><div class=widgets><div class="fixed-buttons animate__faster d-none"><div class="fixed-button back-to-top" role=button aria-label=回到顶部><i class="fa-solid fa-arrow-up fa-fw" aria-hidden=true></i><span class=variant-numeric>0%</span></div><div class="fixed-button view-comments d-none" role=button aria-label=查看评论><i class="fa-solid fa-comment fa-fw" aria-hidden=true></i></div></div><div id=mask></div><div class=reading-progress-bar style=left:0;top:0></div><noscript><div class=noscript-warning>FixIt 主题在启用 JavaScript 的情况下效果最佳。</div></noscript></div><link rel=stylesheet href=/ooooo-notes/lib/gitalk/gitalk.min.css><link rel=stylesheet href=/ooooo-notes/lib/lightgallery/css/lightgallery-bundle.min.css><link rel=preload href=/ooooo-notes/lib/katex/katex.min.css as=style onload='this.removeAttribute("onload"),this.rel="stylesheet"'><noscript><link rel=stylesheet href=/ooooo-notes/lib/katex/katex.min.css></noscript><link rel=stylesheet href=/ooooo-notes/lib/cookieconsent/cookieconsent.min.css><link rel=stylesheet href=/ooooo-notes/lib/pace/themes/blue/pace-theme-minimal.css><script src=/ooooo-notes/lib/gitalk/gitalk.min.js></script><script src=/ooooo-notes/lib/autocomplete/autocomplete.min.js defer></script><script src=/ooooo-notes/lib/fuse/fuse.min.js defer></script><script src=/ooooo-notes/lib/twemoji/twemoji.min.js defer></script><script src=/ooooo-notes/lib/lightgallery/lightgallery.min.js defer></script><script src=/ooooo-notes/lib/lightgallery/plugins/thumbnail/lg-thumbnail.min.js defer></script><script src=/ooooo-notes/lib/lightgallery/plugins/zoom/lg-zoom.min.js defer></script><script src=/ooooo-notes/lib/sharer/sharer.min.js async defer></script><script src=/ooooo-notes/lib/typeit/index.umd.js defer></script><script src=/ooooo-notes/lib/katex/katex.min.js defer></script><script src=/ooooo-notes/lib/katex/auto-render.min.js defer></script><script src=/ooooo-notes/lib/katex/copy-tex.min.js defer></script><script src=/ooooo-notes/lib/katex/mhchem.min.js defer></script><script src=/ooooo-notes/lib/cookieconsent/cookieconsent.min.js defer></script><script src=//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js async defer></script><script src=/ooooo-notes/lib/pace/pace.min.js async defer></script><script>window.config={autoBookmark:!0,code:{copyTitle:"复制到剪贴板",editLockTitle:"锁定可编辑代码块",editUnLockTitle:"解锁可编辑代码块",editable:!0,maxShownLines:100},comment:{enable:!0,expired:!1,gitalk:{admin:["ooooo-youwillsee"],clientID:"9fcbefe148801287b34f",clientSecret:"3833b0f8bda400fb1ea7093446f340821394e501",id:"0001-01-01T00:00:00Z",owner:"ooooo-youwillsee",repo:"ooooo-notes-gitalk",title:""}},cookieconsent:{content:{dismiss:"同意",link:"了解更多",message:"本网站使用 Cookies 来改善您的浏览体验。"},enable:!0,palette:{button:{background:"#f0f0f0"},popup:{background:"#1aa3ff"}},theme:"edgeless"},data:{"typeit-header-subtitle-desktop":"Hello World","typeit-header-subtitle-mobile":"Hello World"},lightgallery:!0,math:{delimiters:[{display:!0,left:"$$",right:"$$"},{display:!0,left:"\\[",right:"\\]"},{display:!0,left:"\\begin{equation}",right:"\\end{equation}"},{display:!0,left:"\\begin{equation*}",right:"\\end{equation*}"},{display:!0,left:"\\begin{align}",right:"\\end{align}"},{display:!0,left:"\\begin{align*}",right:"\\end{align*}"},{display:!0,left:"\\begin{alignat}",right:"\\end{alignat}"},{display:!0,left:"\\begin{alignat*}",right:"\\end{alignat*}"},{display:!0,left:"\\begin{gather}",right:"\\end{gather}"},{display:!0,left:"\\begin{CD}",right:"\\end{CD}"},{display:!1,left:"$",right:"$"},{display:!1,left:"\\(",right:"\\)"}],strict:!1},search:{distance:100,findAllMatches:!1,fuseIndexURL:"/ooooo-notes/index.json",highlightTag:"em",ignoreFieldNorm:!1,ignoreLocation:!1,isCaseSensitive:!1,location:0,maxResultLength:10,minMatchCharLength:2,noResultsFound:"没有找到结果",snippetLength:30,threshold:.3,type:"fuse",useExtendedSearch:!1},twemoji:!0,typeit:{cursorChar:"|",cursorSpeed:1e3,data:{"typeit-header-subtitle-desktop":["typeit-header-subtitle-desktop"],"typeit-header-subtitle-mobile":["typeit-header-subtitle-mobile"]},duration:-1,loop:!1,speed:100}}</script><script src=/ooooo-notes/js/theme.min.js defer></script></body></html>