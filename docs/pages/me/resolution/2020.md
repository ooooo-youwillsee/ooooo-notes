## 1、zsh 添加插件后，不生效

执行命令 `rm -rf ~/.zcompdump*`

## 2、Java 出现内存分配失败

[问题](https://community.cloudera.com/t5/Support-Questions/Storm-quot-Cannot-allocate-memory-quot-quot-insufficient/td-p/144449)

If you see that the storm process is getting crashed even though you have enough memory (swap/free) available then you should also check the "`/proc/sys/vm/overcommit_memory`"

- This switch knows 3 different settings:

=> 0: The Linux kernel is free to over commit memory(this is the default), a heuristic algorithm is applied to figure out if enough memory is available.

=> 1: The Linux kernel will always over commit memory, and never check if enough memory is available. This increases the risk of out-of-memory situations, but also improves memory-intensive workloads.

=> 2: The Linux kernel will not over commit memory, and only allocate as much memory as defined in over commit_ratio.

As sometimes OS kills /crashes a process due to a system OS setting, the system OS memory overcommit setting was 2 (when it should have been set to 0) -

## 3、element-ui 中 el-form-item 校验出现英文

去掉属性 required，添加 rules 规则 `{ required: true, message: '请输入姓名', trigger: 'blur' }`

## 4、Idea 多模块项目启动，webapp 目录下文件访问不到

编辑运行配置，设置**环境变量中的工作目录为当前模块目录**。

## 5、代码请求分析过程

1. 请求[业务办理](http://front.wt.com/business/querie.html)。
2. 打开控制台（F12）, network-XHR 界面，看到请求 http://front.wt.com/wt/business/1001.json。
3. 全局搜索**/wt/business/1001**，以 wt 开头的请求一般都定义在 `com.cairh.xpe.constant.business` 这个包下，找到接口声明的地方。
4. Debug 方式查看调用链，会依次经过 `com.cairh.xpe.core.mvc.filter.SecurityFilter` （XSS攻击）， `com.cairh.xpe.wt.api.filter.AntiSqlInjectionfilter` （SQl注入），然后到业务接口代码 `com.cairh.xpe.wt.api.controller.BusinessController#queryUserBusiness`，入参为 `CrhUser`，但是前台并没有传入参数。

5. 如何设置参数的？

@RequestMapping 注解会被 `RequestMappingHandlerAdapter#invokeHandlerMethod` 处理。
```java {15}
protected ModelAndView handleInternal(HttpServletRequest request, HttpServletResponse response, HandlerMethod handlerMethod) throws Exception {
    // ...
    mav = this.invokeHandlerMethod(request, response, handlerMethod);
    // ...
    return mav;
  }
```
经过 `org.springframework.web.method.support.InvocableHandlerMethod#invokeForRequest`处理，最后经由 `com.cairh.xpe.core.user.UserArgumentResolver` 解析参数 CrhUser，定义在 `wt-api-servlet.xml` 文件中。

## 6、xpe-context-config 配置加载

1. 数据源 `com.cairh.xpe.context.jdbc.DynaCachedDataSource`
2. amq `com.cairh.xpe.core.utils.CustomPropertyPlaceholderConfigurer`
3. 加载配置文件到 Redis，`com.cairh.xpe.core.cache.CacheManager#refreshOne(java.lang.String, boolean)`
