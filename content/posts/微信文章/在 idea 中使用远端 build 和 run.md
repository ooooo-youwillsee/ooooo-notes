---
title: 在 idea 中使用远端 build 和 run
date: 2022-09-12T08:14:00+08:00
lastmod: 2022-09-12T08:14:00+08:00
draft: false
tags: [IDE]
collections: [微信文章]
---

在 idea 中实际有一个非常有用的功能，那就是**远端构建**和**远端运行**。

在我们实际开发项目中，自己的**本地环境**和**服务器环境**不太一样，例如 go 开发中的 **build-tags**, 还有 c/c++ 开发中的**API 调用**不一样，无法模拟**相同的开发环境**。

<!--more-->


## 1. 问题说明

1. 这里拿 **运行 kubernetes** 来说明这个问题。
2. 我们都知道在 **windows 系统** 和 **mac 系统**中，你是很难在本地运行 **kubernetes** 的，因为需要涉及到很多的组件，很多功能也只有在 **linux 系统**中才会开启。
3. 一般来说，任何程序都应该是有**远程调试**这个功能的，但是这个功能在**本地学习源码**时会有点不方便，主要体现在**自己在本地改了源码，需要同步到你远端的机器上，然后 build 和 run**， 整套过程不是**自动的**。


## 2. 使用教程

1. 选择**在远端机器上运行**。
2. 选择**在远端机器上构建**和**编译完成后运行**。
3. 指定**程序参数**。

如下图：

![在远端构建和运行](/ooooo-notes/images/remote-build-and-run-in-idea-01.png "在远端构建和运行")


1. 新建一个**target配置**。
2. 新建或选择一个**ssh配置**, 对于 `rsync` 可以不用开启。
3. 设置**远端go的执行路径**，这个必须要指定，如果 `GOPATH` 不指定，则使用**远端默认配置***。
4. 建议指定一个具体的路径，否则，每次都会生成新的目录，构建比较缓慢。

如下图：

![在远端构建和运行](/ooooo-notes/images/remote-build-and-run-in-idea-02.png "在远端构建和运行")

